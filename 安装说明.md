# 智写流程助手 Chrome 插件安装说明

## 📋 功能介绍

智写流程助手是一个Chrome浏览器插件，可以：
- 🖱️ **自动跟踪鼠标点击**：记录每次点击的位置和目标元素
- 📸 **智能截图**：每次点击时自动截图，并在截图上标记点击位置
- 📝 **生成操作文档**：自动生成包含截图的Markdown格式操作文档
- 🎯 **黄色圆形标记**：在截图上用醒目的黄色圆点标记点击位置

## 🚀 安装步骤

### 1. 准备插件文件
确保你有以下文件：
```
智写流程助手/
├── manifest.json          # 插件配置文件
├── popup.html             # 弹窗界面
├── popup.js               # 弹窗逻辑
├── background.js          # 后台服务
├── content.js             # 内容脚本
├── content.css            # 样式文件
├── test.html              # 测试页面
└── 安装说明.md            # 本文件
```

### 2. 开启开发者模式
1. 打开Chrome浏览器
2. 在地址栏输入：`chrome://extensions/`
3. 在右上角开启"开发者模式"开关

### 3. 加载插件
1. 点击"加载已解压的扩展程序"按钮
2. 选择包含插件文件的文件夹
3. 点击"选择文件夹"

### 4. 验证安装
- 插件安装成功后，会在浏览器右上角显示插件图标
- 点击图标应该能看到"智写流程助手"弹窗

## 🎯 使用方法

### 基本操作流程
1. **打开测试页面**：在浏览器中打开 `test.html` 文件
2. **启动录制**：点击插件图标，点击"开始录制"按钮
3. **进行操作**：在页面上进行各种点击操作
4. **停止录制**：点击"停止录制"按钮
5. **导出文档**：点击"导出文档"按钮，获取操作流程文档

### 录制状态指示
- 🔴 **录制中**：页面右上角显示红色"正在录制"指示器
- ⚪ **未录制**：没有指示器显示

### 点击标记效果
- 每次点击时会在页面上显示黄色圆形标记
- 标记包含外圈（金黄色）和内圈（橙红色小圆点）
- 截图会包含这个标记，清楚显示点击位置

## 📊 功能特性

### 智能截图
- **自动触发**：每次鼠标点击时自动截图
- **频率限制**：防止过于频繁的截图操作
- **质量优化**：使用JPEG格式，平衡文件大小和清晰度

### 操作记录
- **元素识别**：记录点击的HTML元素信息
- **坐标定位**：精确记录点击的页面坐标
- **文本内容**：提取点击元素的文本内容
- **页面信息**：记录页面URL和标题

### 文档生成
- **Markdown格式**：生成标准的Markdown文档
- **图文并茂**：每个操作步骤都包含对应截图
- **简洁明了**：只显示关键信息，去除冗余内容
- **自动下载**：一键导出到本地文件

## 🔧 故障排除

### 常见问题

#### 1. 插件无法加载
**解决方案**：
- 确保所有文件都在同一个文件夹中
- 检查manifest.json文件格式是否正确
- 重新开启开发者模式

#### 2. 点击无响应
**解决方案**：
- 检查页面是否支持内容脚本注入
- 某些特殊页面（如chrome://）无法录制
- 尝试刷新页面后重新开始录制

#### 3. 截图失败
**解决方案**：
- 检查Chrome的截图权限
- 降低点击频率，避免超出API限制
- 重新加载插件

#### 4. 上下文失效错误
**解决方案**：
- 重新加载插件（在扩展程序页面点击刷新）
- 刷新目标页面
- 重启Chrome浏览器

### 调试方法
1. **查看控制台**：按F12打开开发者工具，查看Console面板
2. **检查存储**：在Application面板查看Local Storage
3. **监控网络**：在Network面板查看API调用情况

## 📝 技术说明

### 权限说明
- `activeTab`：访问当前活动标签页
- `storage`：本地存储操作记录
- `downloads`：下载生成的文档
- `scripting`：注入内容脚本

### 文件结构
- **manifest.json**：插件配置和权限声明
- **popup.html/js**：用户界面和交互逻辑
- **background.js**：后台服务，处理截图和存储
- **content.js**：页面内容脚本，监听点击事件
- **content.css**：页面样式，录制指示器样式

### 数据存储
- 使用Chrome的`chrome.storage.local` API
- 截图以Base64格式存储
- 操作记录包含时间戳、坐标、元素信息等

## 🎉 开始使用

现在你可以：
1. 打开 `test.html` 测试页面
2. 启动插件开始录制
3. 在页面上进行各种操作
4. 导出专业的操作文档

享受智能化的操作流程记录体验！ 🚀